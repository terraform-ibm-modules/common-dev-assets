{
  "extends":[
    "config:base",
    ":semanticCommits",
    ":disableDependencyDashboard"
  ],
  "recreateWhen": "always",
  "separateMajorMinor": false,
  "cloneSubmodules": true,
  "prConcurrentLimit": 0,
  "prHourlyLimit": 0,
  "automerge": true,
  "labels": ["renovate"],
  "rangeStrategy": "pin",
  "forkProcessing": "enabled",
  "git-submodules": {
    "enabled": true
  },
  "pre-commit": {
    "enabled": true
  },
  "ignorePaths": [
    "**/node_modules/**"
  ],
  "postUpdateOptions": ["gomodTidy", "gomodUpdateImportPaths"],
  "postUpgradeTasks": {
    "commands": ["export CUSTOM_DIRECTORY=/tmp && export PATH=$PATH:/tmp && make dependency-install-darwin-linux", "export PATH=$PATH:/tmp && pre-commit run --all-files || true"],
    "fileFilters": ["**/*.md", "**/*.json", ".secrets.baseline", "**/*.tf", "**/*.go", "go.mod", "go.sum"],
    "executionMode": "update"
  },
  "packageRules": [
    {
      "description": "Group all dependencies into a single PR",
      "matchPackagePatterns": ["*"],
      "groupName": "dependencies",
    },
    {
      "description": "Use fix as Semantic Commit prefix for all dependency updates except ones specified in rules below",
      "matchPackagePatterns": ["*"],
      "semanticCommitType": "fix"
    },
    {
      "description": "Use chore as Semantic Commit prefix for all dependency updates in examples and tests folders",
      "matchFileNames": ["examples/**", "tests/**"],
      "semanticCommitType": "chore"
    },
    {
      "description": "Use chore as Semantic Commit prefix for git submodule, go.mod, github actions, and pre-commit updates, and bundle into the same PR to reduce number of PRs created by renovate.",
      "matchManagers": ["git-submodules", "gomod", "pre-commit", "github-actions"],
      "semanticCommitType": "chore"
    },
    {
      "description": "Disable terraform required_version and required_provider updates.",
      "matchManagers": ["terraform"],
      "matchDepTypes": ["required_version", "required_provider"],
      "enabled": false
    },
    {
      "description": "Allow the locked in provider version to be updated to the latest for deployable architectures",
      "enabled": true,
      "matchFileNames": ["solutions/**"],
      "matchManagers": ["terraform"],
      "matchDepTypes": ["required_provider"],
      "rangeStrategy": "bump",
      "semanticCommitType": "fix"
    },
    {
      "description": "Custom regex required to bump IBM detect secrets",
      "matchPackageNames": ["ibm/detect-secrets"],
      "versioning": "regex:^(?<compatibility>.*)-?(?<major>\\d+)\\.(?<minor>\\d+)\\+ibm\\.(?<patch>\\d+)\\.dss$"
    }
  ]
}
